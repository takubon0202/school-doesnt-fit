---
description: "パイプライン実行 - 全サブエージェントを順番に実行してWebページを完成させる"
allowed-tools: ["Read", "Write", "Edit", "Glob", "Grep", "Bash", "WebSearch"]
argument-hint: "[mode: full|design|evaluate]"
---

# パイプライン実行コマンド

このコマンドは、本紹介Webページを開発するための全サブエージェントを順番に実行します。

## 実行モード

- `full` - 全工程を実行（デフォルト）
- `design` - デザイン・コーディングのみ
- `evaluate` - 評価のみ（既存ページを評価）

モード: $ARGUMENTS

## 開発パイプライン

```
┌─────────────────────────────────────────────────────────────┐
│                     開発パイプライン                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────┐    ┌──────────┐    ┌──────────┐             │
│  │ デザイン  │ → │ コーディング │ → │  画像   │             │
│  │ /design  │    │ /coding  │    │ /image  │             │
│  └──────────┘    └──────────┘    └──────────┘             │
│                                       ↓                    │
│  ┌──────────┐    ┌──────────┐    ┌──────────┐             │
│  │  評価    │ ← │ ペルソナ  │ ← │ デバッグ │             │
│  │/evaluate │    │ /persona │    │ /debug  │             │
│  └──────────┘    └──────────┘    └──────────┘             │
│        ↓                                                   │
│  ┌──────────────────────────────────────────────┐         │
│  │              合格判定（70点以上）              │         │
│  │  不合格 → デザイン/コーディングへ戻る          │         │
│  │  合格 → 完成                                  │         │
│  └──────────────────────────────────────────────┘         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

## 実行手順

### Phase 1: デザイン設計
```
1. CLAUDE.mdとプロジェクト要件を確認
2. デザイン仕様書を作成
3. カラーパレット、レイアウト、コンポーネントを定義
4. design-spec.mdに出力
```

### Phase 2: コーディング
```
1. design-spec.mdを読み込み
2. HTML構造を作成
3. CSSスタイルを実装
4. JavaScriptを実装
5. ファイルを保存
```

### Phase 3: 画像指示書作成
```
1. ページ構成を確認
2. 必要な画像をリストアップ
3. 各画像の生成指示を作成
4. image-prompts.mdに出力
```

### Phase 4: デバッグ
```
1. HTML/CSS/JSを検証
2. アクセシビリティチェック
3. パフォーマンスチェック
4. 問題を修正
5. debug-report.mdに出力
```

### Phase 5: ペルソナ評価
```
1. 4つのペルソナで評価
2. 各25点、計100点で採点
3. 合格ライン: 70点
4. persona-evaluation.mdに出力
```

### Phase 6: SEO・事業評価
```
1. SEO、事業明確さ、分かりやすさ、行動喚起で評価
2. 各25点、計100点で採点
3. 合格ライン: 70点
4. seo-business-evaluation.mdに出力
```

### Phase 7: 改善サイクル
```
評価結果を確認:
- 両評価が70点以上 → 完成
- どちらかが70点未満 → 改善点を特定し、Phase 1または2へ戻る
- 最大3回の改善サイクル
```

## 本の情報

### 「学校に行きたくない君へ」
- 出版社: ポプラ社
- 内容: 不登校新聞に掲載されたインタビュー集
- 登場人物: 樹木希林、荒木飛呂彦、西原理恵子、リリー・フランキー、辻村深月など
- 特徴: 不登校の当事者・経験者が著名人に取材

### 関連書籍
- 「マンガで読む 学校に行きたくない君へ」（棚園正一）
- 「全国フリースクールガイド2024-2025年版」（学びリンク）

## 成果物

パイプライン完了後、以下のファイルが生成されます：

```
/
├── index.html              # メインページ
├── src/
│   ├── css/
│   │   ├── variables.css   # CSS変数
│   │   ├── reset.css       # リセットCSS
│   │   ├── base.css        # ベーススタイル
│   │   ├── components.css  # コンポーネント
│   │   └── pages.css       # ページ固有スタイル
│   └── js/
│       └── main.js         # メインスクリプト
├── public/
│   └── images/             # 画像ファイル（プレースホルダー）
├── design-spec.md          # デザイン仕様書
├── image-prompts.md        # 画像生成指示書
├── debug-report.md         # デバッグレポート
├── persona-evaluation.md   # ペルソナ評価結果
└── seo-business-evaluation.md # SEO・事業評価結果
```

## 実行開始

パイプラインを開始します。各フェーズを順番に実行し、最終的に評価基準を満たすページを完成させてください。

**注意事項:**
- 各フェーズの完了を確認してから次へ進む
- 評価結果が70点未満の場合は改善を行う
- 最大3回の改善サイクルで完成を目指す
- AIっぽいデザイン（絵文字、紫色など）は絶対に避ける

パイプラインを開始してください。
